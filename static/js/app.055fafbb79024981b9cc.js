webpackJsonp([1],{"7zck":function(t,e){},DqmD:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),n=a("3EgV"),i=a.n(n),o=new r.a,s=a("m0f6"),l=a.n(s),c=a("riU/"),d=a.n(c),p=a("M4fF"),u=a.n(p),m={name:"v-selection-panel",props:{layers:{type:Array,required:!0},map:{type:Object}},data:function(){return{period:2004,periodText:"",items:["yearly","six_yearly"],modes:["Original mean","Classified mean","Original P90","Classified P90"],selectPeriod:"yearly",parameter:"Original mean",value:[2002,2003],shapelayer:!1}},watch:{selectPeriod:{handler:function(t){o.$emit("change-selectPeriod",this.selectPeriod),this.updateTimeSlider(),this.updatePaint()},deep:!0},parameter:{handler:function(t){o.$emit("change-parameter",this.parameter),this.updatePaint()},deep:!0},value:{handler:function(t){this.updatePaint()},deep:!0},layers:{handler:function(t){this.layers=t,this.updatePaint()},deep:!0}},mounted:function(){var t=this;o.$on("map-loaded",function(e){o.$on("shapes-added",function(){t.createColorSlider(),t.createTimeSlider(),o.$emit("change-selectPeriod",t.selectPeriod),o.$emit("change-parameter",t.parameter)})})},methods:{updateTimeSlider:function(){if("six_yearly"===this.selectPeriod)var t=6,e=6,a={min:2002,max:2023};else"yearly"===this.selectPeriod&&(t=1,e=1,a={min:2002,max:2017});this.timeslider.updateOptions({margin:t,limit:e,range:a})},createTimeSlider:function(){var t=this,e=document.getElementById("slider-time");this.timeslider=l.a.create(e,{start:[2002,2007],step:1,margin:1,limit:1,behaviour:"drag-fixed",connect:!0,range:{min:2002,max:2017},tooltips:[d()({decimals:0}),d()({decimals:0})]}),this.timeslider.on("slide.one",function(e){t.value=e,o.$emit("change-time-slider",e)}),this.updatePaint()},createColorSlider:function(){var t=document.getElementById("slider-color"),e=l.a.create(t,{start:[20,40,60],connect:[!0,!0,!0,!0],range:{min:[0],max:[80]},step:5,margin:5,padding:5,pips:{mode:"values",values:[0,20,40,60,80],density:4,format:d()({decimals:2})},cssPrefix:"noUi-",tooltips:[d()({decimals:1}),d()({decimals:1}),d()({decimals:1})]});o.$emit("create-color-slider",e);for(var a=t.querySelectorAll(".noUi-connect"),r=["c-1-color","c-2-color","c-3-color","c-4-color"],n=0;n<a.length;n++)a[n].classList.add(r[n]);e.on("slide.one",function(t){o.$emit("create-color-slider",e)})},updatePaint:function(){var t=this,e=parseInt(parseInt(this.value[0]));u.a.each(this.layers,function(a){t.map.setPaintProperty(a.id,"raster-opacity",0),a.id===e.toString()&&"yearly"===t.selectPeriod?t.map.setPaintProperty(e.toString(),"raster-opacity",1):a.id===e.toString()+"_"+(e+5).toString()&&"six_yearly"===t.selectPeriod&&t.map.setPaintProperty(e.toString()+"_"+(e+5).toString(),"raster-opacity",1)})}},components:{}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-selection-panel"},[a("v-toolbar",{attrs:{slot:"header",flat:"",color:"grey lighten-4"},slot:"header"},[a("v-toolbar-title",[t._v("\r\n      Select image\r\n    ")])],1),t._v(" "),a("v-list",{attrs:{dense:"","pt-0":"","three-line":""}},[a("v-card",[a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[t._v("\r\n            Select period:\r\n          ")]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{id:"select-period",items:t.items,label:"Select","single-line":""},model:{value:t.selectPeriod,callback:function(e){t.selectPeriod=e},expression:"selectPeriod"}})],1)],1),t._v(" "),a("div",{attrs:{id:"slider-time"}}),t._v(" "),a("v-radio-group",{model:{value:t.parameter,callback:function(e){t.parameter=e},expression:"parameter"}},t._l(t.modes,function(t){return a("v-radio",{key:t,attrs:{label:""+t,value:t}})})),t._v(" "),a("div",{attrs:{id:"slider-color",hidden:"Original mean"===t.parameter||"Original P90"===t.parameter}}),t._v(" "),"Original mean"===t.parameter||"Original P90"===t.parameter?a("div",{attrs:{id:"colorbar"}}):t._e(),t._v(" "),"Original mean"===t.parameter||"Original P90"===t.parameter?a("div",{attrs:{id:"bartext"}},[t._v(" 0 80 "),a("span")]):t._e()],1)],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(m,v,!1,function(t){a("f98/")},null,null).exports,f=a("xvGj"),g={props:{tutorial:{type:Boolean}},data:function(){return{disclaimer:!0,tutorialDialog:!1,tutorialScreen:"step1"}},watch:{tutorial:{handler:function(t){this.tutorialDialog=t},deep:!0},tutorialDialog:{handler:function(t){this.tutorialDialog=t,this.tutorialDialog?this.tutorialScreen="step1":o.$emit("tutorial-closed",this.tutorialDialog)},deep:!0},tutorialScreen:{handler:function(t){this.tutorialScreen=t},deep:!0}},components:{CookieLaw:a.n(f).a}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"",scrollable:"",height:"80vh",width:"40vw","max-height":"80vh","max-width":"40vw"},model:{value:t.disclaimer,callback:function(e){t.disclaimer=e},expression:"disclaimer"}},[a("v-card",{attrs:{id:"disclaimer",light:""}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("\n          Disclaimer\n        ")])]),t._v(" "),a("v-card-text",[a("iframe",{attrs:{id:"disclaimerContent",src:"./static/disclaimer.html"}})]),t._v(" "),a("v-card-actions",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{round:"",color:"primary",dark:""},on:{click:function(e){e.stopPropagation(),t.disclaimer=!1}}},[t._v("Agree and proceed to website")]),t._v(" "),a("v-btn",{attrs:{round:"",color:"primary",dark:""},on:{click:function(e){e.stopPropagation(),t.disclaimer=!1,t.tutorialDialog=!0}}},[t._v("Agree and tutorial")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"600px","max-heigth":"60vh",scrollable:""},model:{value:t.tutorialDialog,callback:function(e){t.tutorialDialog=e},expression:"tutorialDialog"}},["step1"===t.tutorialScreen?a("v-card",{attrs:{light:"",id:"tutorialCard"}},[a("v-card-title",[a("h3",{staticClass:"headline mb-0"},[t._v("\n          Tutorial step 1\n        ")])]),t._v(" "),a("v-card-text",[a("p",[t._v("\n          Would you like to use satellite data for marine environmental decision making, such as the Marine Strategy Framework Directive (MSFD)?\n          Our new algorithm blends thousands of customised satellite datasets of concentration of chlorophyll pigment (CHL), which are indicative\n          of phytoplankton in offshore, rocky, and turbid coastal waters. The resulting maps are presented in the MSFD-Eutro viewer\n        ")]),t._v(" "),a("p",[t._v("\n          Trend analysis of CHL helps to understand the response of the marine ecosystem to human pressures such as eutrophication.\n          The status of a particular marine area with respect to eutrophication is determined by winter nutrient concentrations, but also by\n          multi-year mean and maximum (expressed as P90) chlorophyll-a concentrations evaluated against certain thresholds (assessment levels).\n        ")])]),t._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"Close",attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.tutorialDialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{flat:"",disabled:""}}),t._v(" "),a("v-btn",{staticClass:"Next",attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.tutorialScreen="step2"}}},[t._v("Next")])],1)],1):t._e(),t._v(" "),"step2"===t.tutorialScreen?a("v-card",{attrs:{light:"",id:"tutorialCard"}},[a("v-card-title",[a("h3",{staticClass:"headline mb-0"},[t._v("\n        Tutorial step 2\n      ")])]),t._v(" "),a("v-card-text",[a("p",[t._v("\n        Clicking Original mean or Original P90 enables you to check yearly or six-yearly average or maximum chlorophyll concentrations.\n        Analyse trends in time by dragging the slider on the time bar. If you click in the map, you can show and download the plot of\n        the statistics. With alt + prt sc you capture the map.\n      ")]),t._v(" "),a("img",{attrs:{src:"static/images/StatsReporting-Arrows.png",width:"100%"}})]),t._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"Close",attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.tutorialDialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{staticClass:"Back",attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.tutorialScreen="step1"}}},[t._v("Back")]),t._v(" "),a("v-btn",{staticClass:"Next",attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.tutorialScreen="step3"}}},[t._v("Next")])],1)],1):t._e(),t._v(" "),"step3"===t.tutorialScreen?a("v-card",{attrs:{light:"",id:"tutorialCard"}},[a("v-card-title",[a("h3",{staticClass:"headline mb-0"},[t._v("\n        Tutorial step 3\n      ")])]),t._v(" "),a("v-card-text",[a("p",[t._v("\n        To check the spatial impact of choosing different (international) assessment levels and methods... you can: Select Classified mean or\n        Classified P90 and evaluate the spatial impact of assessment levels interactively by dragging the sliders on the colour scale.\n      ")]),t._v(" "),a("p",[t._v("\n        Our tool directly enables you to use data for good. We hope that our interactive web-mapping tool provides input to the discussion on\n        international harmonisation of assessment levels and methods.\n      ")]),t._v(" "),a("img",{attrs:{src:"static/images/AssessmentLevels-Arrows.png",width:"100%"}})]),t._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"Close",attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.tutorialDialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{staticClass:"Back",attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.tutorialScreen="step2"}}},[t._v("Back")])],1)],1):t._e()],1)],1)},staticRenderFns:[]};var _={name:"v-info-panel",data:function(){return{tutorial:!1,disclaimer:!0}},watch:{tutorial:{handler:function(t){this.tutorial=t},deep:!0}},methods:{clickOpenDap:function(){window.open("https://tl-ng038.xtr.deltares.nl/thredds/catalog.html","_blank")}},components:{"v-welcome":a("VU/8")(g,y,!1,function(t){a("x4wj")},"data-v-c96bb9e4",null).exports},mounted:function(){var t=this;o.$on("tutorial-closed",function(e){t.tutorial=e})}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-info-panel"},[a("v-toolbar",{attrs:{slot:"header",flat:"",color:"grey lighten-4"},slot:"header"},[a("v-toolbar-title",[t._v("\r\n      Information\r\n    ")])],1),t._v(" "),a("v-list",{attrs:{dense:"","pt-0":"","three-line":""}},[a("v-card",[a("v-card-text",[t._v("\r\n        MSFD-Eutro is a free and open, active and interactive web-mapping service that shows chlorophyll indicator maps based on growing-season\r\n        statistics (mean, and max as P90). MSFD-Eutro aims to facilitate the use and appreciation of ocean colour data by policy\r\n        advisors and policy makers for the European Marine Strategy Framework Directive (MSFD).\r\n        "),a("br"),t._v("\r\n        Click "),a("a",{attrs:{href:"",src:"https://www.deltares.nl/en/projects/msfd-eutro/"}},[t._v("here")]),t._v(" for more information.\r\n        "),a("div",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{round:"",color:"primary",dark:""},nativeOn:{click:function(e){t.clickOpenDap()}}},[t._v("OpenDap")]),t._v(" "),a("v-btn",{attrs:{round:"",color:"primary",dark:""},on:{click:function(e){t.tutorial=!0}}},[t._v("Tutorial")])],1),t._v(" "),a("v-welcome",{attrs:{disclaimer:t.disclaimer,tutorial:t.tutorial}})],1)],1)],1)],1)},staticRenderFns:[]};var C=a("VU/8")(_,b,!1,function(t){a("Ybz/")},null,null).exports,w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"v-acknowledgements"},[e("v-toolbar",{attrs:{slot:"header",flat:"",color:"grey lighten-4"},slot:"header"},[e("v-toolbar-title",[this._v("\r\n      Acknowledgements\r\n    ")])],1),this._v(" "),e("v-list",{attrs:{dense:"","pt-0":"","three-line":""}},[e("v-card",[e("v-card-text",[this._v("\r\n        We acknowledge CMEMS, ESA, EUMETSAT and Copernicus for satellite data, and CMEMS for funding.\r\n        The MSFD-Eutro service was developed as a Demonstration Project under Contact 33â€“DEM2-L2.\r\n      ")]),this._v(" "),e("v-card-actions",{staticClass:"text-xs-center"},[e("img",{staticClass:"center",attrs:{id:"logo",src:"static/images/CMEMS-DEMO-MSFD-EUTRO_33-DEM3-L2.png"}})])],1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")({name:"v-info-panel",data:function(){return{tutorial:!1,disclaimer:!0}}},w,!1,function(t){a("iiR2")},null,null).exports,k=[{id:"ospar-eu-6iavvw",type:"line",source:{url:"mapbox://mariekeeleveld.410g4lyk",type:"vector"},"source-layer":"ospar_eu-6iavvw",filter:["==","$type","LineString"],layout:{visibility:"visible"},paint:{"line-dasharray":[2,2],"line-gap-width":0,"line-color":"#000000"}},{id:"ospar-nl-c0abqr",type:"line",source:{url:"mapbox://mariekeeleveld.cfz5dxdk",type:"vector"},"source-layer":"ospar_nl-c0abqr",filter:["==","$type","Polygon"],layout:{visibility:"visible"},paint:{"line-dasharray":[1,1]}},{id:"mwtl-stations",type:"circle",source:{url:"mapbox://mariekeeleveld.ddmfd1ai",type:"vector"},"source-layer":"MWTL_WB_Conv_XLSInclFullNames-4tanvq",filter:["==","$type","Point"],layout:{visibility:"visible"},paint:{"circle-color":"hsla(0, 0%, 0%, 0.32)"}}],S=a("1e2d"),P=a.n(S),D=a("504h"),M=a.n(D),E=a("VVDx"),T=a.n(E),L=a("7t+N"),Y=a.n(L);a("mS+B")(M.a),T()(M.a);var O=[2002,2017],A={"Original mean":"mean_chlorophyll","Classified mean":"mean_chlorophyll","Original P90":"P90_chlorophyll","Classified P90":"P90_chlorophyll"},$={name:"v-map-layers",data:function(){return{map:null,parameter:"Original mean",selectPeriod:"yearly",colorSlider:"",customColor:"",year:2003}},mounted:function(){var t=this;o.$on("change-time-slider",function(e){t.year=e[1]}),o.$on("create-color-slider",function(e){t.colorSlider=e,t.generateLayers()}),o.$on("change-parameter",function(e){t.parameter=e,t.generateLayers()}),o.$on("change-selectPeriod",function(e){null===t.selectPeriod?t.selectPeriod=e:(t.selectPeriod=e,t.generateLayers())}),o.$on("map-loaded",function(e){var a=new P.a.Popup({});t.addShapeLayers(),o.$emit("shapes-added"),t.map.on("mouseenter","mwtl-stations",function(r){t.map.getCanvas().style.cursor="pointer";var n=r.features[0].geometry.coordinates.slice(),i=r.features[0].properties["Full name"];a.setLngLat(n).setHTML(i).addTo(e)}),t.map.on("mouseleave","mwtl-stations",function(){a.remove(),t.map.getCanvas().style.cursor=""});var r=new P.a.Popup({}),n=window.document.createElement("popup");n.setAttribute("id","popup"),r.setDOMContent(n),t.map.on("click",function(e){var a=t.map.queryRenderedFeatures(e.point);if("mwtl-stations"===a[0].layer.id){console.log(a[0]);a[0].properties["Short name"];if("yearly"===t.selectPeriod)t.year;else t.year-1;Y.a.ajax({url:"https://crossorigin.me/http://live.waterbase.nl/wboutput.cfm?loc=GOERE6&wbwns=282%7CChlorofyl-a+in+ug%2Fl+in+oppervlaktewater&byear=2002&bmonth=00&bday=00&eyear=2010&emonth=00&eday=00&output=Tekst&whichform=2",succes:function(t){console.log(t)}})}if(r.remove(),r.setLngLat(e.lngLat).addTo(t.map).setDOMContent(n),"yearly"===t.selectPeriod)var i="CHL_1km_"+t.year.toString();else"six_yearly"===t.selectPeriod&&(i="CHL_1km_"+parseInt(t.year).toString()+"_"+(parseInt(t.year)+5).toString());t.makeBoxPlot(i,e.lngLat.lat,e.lngLat.lng)})})},methods:{deferredMountedTo:function(t){this.map=t},generateLayers:function(){var t=this;o.$emit("remove-all-layers"),u.a.each(u.a.range(O[0],O[1]),function(e){t.addMapLayers(e)})},addMapLayers:function(t){if("yearly"===this.selectPeriod)var e="CHL_1km_"+parseInt(t).toString(),a=parseInt(t).toString();else"six_yearly"===this.selectPeriod&&(e="CHL_1km_"+parseInt(t).toString()+"_"+(parseInt(t)+5).toString(),a=parseInt(t).toString()+"_"+(t+5));if("Classified mean"===this.parameter|"Classified P90"===this.parameter){var r="custom";u.a.each(this.colorSlider.get(),function(t,e){r+="-"+parseInt(t)});var n="&STYLES=boxfill/"+r+"&NUMCOLORBANDS=16&"}else n="&STYLES=boxfill/msfd&";var i={id:a,type:"raster",source:{type:"raster",tiles:[this.getMapString(e,n)],tileSize:256},paint:{"raster-opacity":0}};this.map.addLayer(i,k[0].id),o.$emit("add-layer",i)},getMapString:function(t,e){return"https://tl-ng038.xtr.deltares.nl/thredds/wms/Thredds/"+this.selectPeriod+"/"+t+".nc?SERVICE=WMS&REQUEST=GetMap&VERSION=1.3.0&LAYERS="+A[this.parameter]+"&CRS=EPSG:3857&BBOX={bbox-epsg-3857}&WIDTH=256&HEIGHT=256&FORMAT=image/png&COLORSCALERANGE=0,80&"+e+"TRANSPARENT=TRUE&"},makeBoxPlot:function(t,e,a){Y.a.ajax({url:"https://tl-ng038.xtr.deltares.nl/thredds/ncss/grid/Thredds/"+this.selectPeriod+"/"+t+".nc?var=P10_chlorophyll&var=P25_chlorophyll&var=P50_chlorophyll&var=P75_chlorophyll&var=P90_chlorophyll&latitude="+e+"&longitude="+a+"&accept=csv",async:!1,success:function(r){var n=[r.split("\n")[1].split(",").slice(2).map(Number)];M.a.chart("popup",{chart:{type:"boxplot"},title:{text:"Chlorophyll"},legend:{enabled:!1},xAxis:{categories:["1"],title:{text:t.split(".")[0]}},yAxis:{title:{text:"Chlorophyll [mg/m^3]"}},series:[{name:t,data:n,tooltip:{headerFormat:"<em>lat: "+e+" lon: "+a+"</em><br/>"}}]})}})},addShapeLayers:function(){var t=this;u.a.each(k,function(e){t.map.addLayer(e)})}}},F={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"maplayers"}})},staticRenderFns:[]};var I=a("VU/8")($,F,!1,function(t){a("u8bO")},null,null).exports,j=a("//Fk"),R=a.n(j),B={name:"v-analytics",props:{analytics:Boolean},data:function(){return{}},watch:{analytics:{handler:function(t){this.analytics=t,console.log("hoi",this.analytics)},deep:!0}},mounted:function(){var t,e,a,r,n,i;t=window,e=document,a="script",(r=t.gapi||(t.gapi={})).analytics={q:[],ready:function(t){this.q.push(t)}},n=e.createElement(a),i=e.getElementsByTagName(a)[0],n.src="https://apis.google.com/js/platform.js",i.parentNode.insertBefore(n,i),n.onload=function(){r.load("analytics")},gapi.analytics.ready(function(){gapi.analytics.auth.authorize({container:"embed-api-auth-container",clientid:"UA-123192208-1"});var t=new gapi.analytics.ext.ActiveUsers({container:"active-users-container",pollingInterval:5});function e(t){return new R.a(function(e,a){new gapi.analytics.report.Data({query:t}).once("success",function(t){e(t)}).once("error",function(t){a(t)}).execute()})}function a(t){var e=document.getElementById(t),a=document.createElement("canvas"),r=a.getContext("2d");return e.innerHTML="",a.width=e.offsetWidth,a.height=e.offsetHeight,e.appendChild(a),r}function r(t,e){document.getElementById(t).innerHTML=e.map(function(t){var e,a,r=t.color||t.fillColor,n=t.label;return'<li><i style="background:'+r+'"></i>'+(e=n,(a=document.createElement("div")).appendChild(document.createTextNode(e)),a.innerHTML)+"</li>"}).join("")}t.once("success",function(){var t;this.container.firstChild;this.on("change",function(e){var a=this.container.firstChild,r=e.delta>0?"is-increasing":"is-decreasing";a.className+=" "+r,clearTimeout(t),t=setTimeout(function(){a.className=a.className.replace(/ is-(increasing|decreasing)/g,"")},3e3)})}),new gapi.analytics.ext.ViewSelector2({container:"view-selector-container"}).execute().on("viewChange",function(n){var i,o,s,l;document.getElementById("view-name").textContent=n.property.name+" ("+n.view.name+")",t.set(n).execute(),i=n.ids,o=moment(),s=e({ids:i,dimensions:"ga:date,ga:nthDay",metrics:"ga:sessions","start-date":moment(o).subtract(1,"day").day(0).format("YYYY-MM-DD"),"end-date":moment(o).format("YYYY-MM-DD")}),l=e({ids:i,dimensions:"ga:date,ga:nthDay",metrics:"ga:sessions","start-date":moment(o).subtract(1,"day").day(0).subtract(1,"week").format("YYYY-MM-DD"),"end-date":moment(o).subtract(1,"day").day(6).subtract(1,"week").format("YYYY-MM-DD")}),R.a.all([s,l]).then(function(t){var e=t[0].rows.map(function(t){return+t[2]}),n=t[1].rows.map(function(t){return+t[2]}),i=t[1].rows.map(function(t){return+t[0]}),o={labels:i=i.map(function(t){return moment(t,"YYYYMMDD").format("ddd")}),datasets:[{label:"Last Week",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",data:n},{label:"This Week",fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",data:e}]};new Chart(a("chart-1-container")).Line(o),r("legend-1-container",o.datasets)}),function(t){var n=moment(),i=e({ids:t,dimensions:"ga:month,ga:nthMonth",metrics:"ga:users","start-date":moment(n).date(1).month(0).format("YYYY-MM-DD"),"end-date":moment(n).format("YYYY-MM-DD")}),o=e({ids:t,dimensions:"ga:month,ga:nthMonth",metrics:"ga:users","start-date":moment(n).subtract(1,"year").date(1).month(0).format("YYYY-MM-DD"),"end-date":moment(n).date(1).month(0).subtract(1,"day").format("YYYY-MM-DD")});R.a.all([i,o]).then(function(t){for(var e=t[0].rows.map(function(t){return+t[2]}),n=t[1].rows.map(function(t){return+t[2]}),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=0,s=i.length;o<s;o++)void 0===e[o]&&(e[o]=null),void 0===n[o]&&(n[o]=null);var l={labels:i,datasets:[{label:"Last Year",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,1)",data:n},{label:"This Year",fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",data:e}]};new Chart(a("chart-2-container")).Bar(l),r("legend-2-container",l.datasets)}).catch(function(t){console.error(t.stack)})}(n.ids),function(t){e({ids:t,dimensions:"ga:browser",metrics:"ga:pageviews",sort:"-ga:pageviews","max-results":5}).then(function(t){var e=[],n=["#4D5360","#949FB1","#D4CCC5","#E2EAE9","#F7464A"];t.rows.forEach(function(t,a){e.push({value:+t[1],color:n[a],label:t[0]})}),new Chart(a("chart-3-container")).Doughnut(e),r("legend-3-container",e)})}(n.ids),function(t){e({ids:t,dimensions:"ga:country",metrics:"ga:sessions",sort:"-ga:sessions","max-results":5}).then(function(t){var e=[],n=["#4D5360","#949FB1","#D4CCC5","#E2EAE9","#F7464A"];t.rows.forEach(function(t,a){e.push({label:t[0],value:+t[1],color:n[a]})}),new Chart(a("chart-4-container")).Doughnut(e),r("legend-4-container",e)})}(n.ids)}),Chart.defaults.global.animationSteps=60,Chart.defaults.global.animationEasing="easeInOutQuart",Chart.defaults.global.responsive=!0,Chart.defaults.global.maintainAspectRatio=!1})}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"",height:"80vh",width:"40vw","max-height":"80vh","max-width":"40vw"},model:{value:t.analytics,callback:function(e){t.analytics=e},expression:"analytics"}},[a("v-card",{attrs:{id:"analyticscard",light:""}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("\n          Google analytics charts\n        ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{small:"",flat:""},on:{click:function(e){e.stopPropagation(),t.analytics=!1}}},[a("v-icon",{attrs:{dark:""}},[t._v("close")])],1)],1),t._v(" "),a("v-card-text",[a("header",[a("div",{attrs:{id:"embed-api-auth-container"}}),t._v(" "),a("div",{attrs:{id:"view-selector-container"}}),t._v(" "),a("div",{attrs:{id:"view-name"}}),t._v(" "),a("div",{attrs:{id:"active-users-container"}})]),t._v(" "),a("div",{staticClass:"Chartjs"},[a("h3",[t._v("This Week vs Last Week (by sessions)")]),t._v(" "),a("figure",{staticClass:"Chartjs-figure",attrs:{id:"chart-1-container"}}),t._v(" "),a("ol",{staticClass:"Chartjs-legend",attrs:{id:"legend-1-container"}})]),t._v(" "),a("div",{staticClass:"Chartjs"},[a("h3",[t._v("This Year vs Last Year (by users)")]),t._v(" "),a("figure",{staticClass:"Chartjs-figure",attrs:{id:"chart-2-container"}}),t._v(" "),a("ol",{staticClass:"Chartjs-legend",attrs:{id:"legend-2-container"}})]),t._v(" "),a("div",{staticClass:"Chartjs"},[a("h3",[t._v("Top Browsers (by pageview)")]),t._v(" "),a("figure",{staticClass:"Chartjs-figure",attrs:{id:"chart-3-container"}}),t._v(" "),a("ol",{staticClass:"Chartjs-legend",attrs:{id:"legend-3-container"}})]),t._v(" "),a("div",{staticClass:"Chartjs"},[a("h3",[t._v("Top Countries (by sessions)")]),t._v(" "),a("figure",{staticClass:"Chartjs-figure",attrs:{id:"chart-4-container"}}),t._v(" "),a("ol",{staticClass:"Chartjs-legend",attrs:{id:"legend-4-container"}})])])],1)],1)},staticRenderFns:[]};var U={name:"app",data:function(){return{map:null,drawer:null,layers:[],analytics:!1}},watch:{analytics:{handler:function(t){this.analytics=t,console.log(this.analytics)},deep:!0}},mounted:function(){var t=this;this.map=this.$refs.map.map,o.$on("add-layer",function(e){t.layers.push(e)}),o.$on("remove-all-layers",function(){u.a.each(t.layers,function(e){t.map.removeLayer(e.id),t.map.removeSource(e.id)}),t.layers=[]}),this.map.on("load",function(e){o.$emit("map-loaded",t.map)})},methods:{},components:{"v-selection-panel":h,"v-map-layers":I,"v-info-panel":C,"v-acknowledgements":x,"v-analytics":a("VU/8")(B,N,!1,function(t){a("nECN")},null,null).exports}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{width:"400",id:"navdrawer",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-selection-panel",{attrs:{layers:t.layers,map:t.map}}),t._v(" "),a("v-info-panel",{attrs:{layers:t.layers,map:t.map}}),t._v(" "),a("v-acknowledgements",{attrs:{layers:t.layers,map:t.map}})],1),t._v(" "),a("v-toolbar",{attrs:{xs6:"",color:"grey lighten-4",fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),a("v-toolbar-title",[t._v("MSFD-eutro - Interactive web-mapping of chlorophyll indicator maps")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:""},on:{click:function(e){e.stopPropagation(),t.analytics=!0}}},[t._v("\r\n      Visitor Count\r\n    ")])],1),t._v(" "),a("v-content",[a("div",{attrs:{id:"map"}},[a("v-mapbox",{ref:"map",attrs:{"access-token":"pk.eyJ1Ijoic2lnZ3lmIiwiYSI6Il8xOGdYdlEifQ.3-JZpqwUa3hydjAJFXIlMA","map-style":"mapbox://styles/mapbox/light-v9",center:[5.673272,52.079502],zoom:7.88,pitch:0,bearing:0,"min-zoom":5,id:"map"}},[a("v-map-layers",{attrs:{layers:t.layers,map:t.map}}),t._v(" "),a("v-mapbox-navigation-control")],1)],1)]),t._v(" "),a("v-analytics",{attrs:{analytics:t.analytics}})],1)},staticRenderFns:[]};var V=a("VU/8")(U,H,!1,function(t){a("DqmD")},null,null).exports,W=a("5BM0"),q=a.n(W);a("7zck");r.a.use(q.a),r.a.use(i.a),r.a.config.productionTip=!1,new r.a({el:"#app",template:"<App/>",components:{App:V}})},"Ybz/":function(t,e){},"f98/":function(t,e){},iiR2:function(t,e){},nECN:function(t,e){},u8bO:function(t,e){},x4wj:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.055fafbb79024981b9cc.js.map