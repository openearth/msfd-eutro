{"version":3,"sources":["webpack:///./src/event-bus.js","webpack:///./src/components/v-selection-panel.js","webpack:///./src/components/VSelectionPanel.vue?9b8a","webpack:///./src/components/VSelectionPanel.vue","webpack:///./src/components/v-welcome.js","webpack:///./src/components/VWelcome.vue?051b","webpack:///./src/components/VWelcome.vue","webpack:///./src/components/v-info-panel.js","webpack:///./src/components/VInfoPanel.vue?3df1","webpack:///./src/components/VInfoPanel.vue","webpack:///./src/components/VAcknowledgements.vue?97a9","webpack:///./src/components/VAcknowledgements.vue","webpack:///./src/components/v-acknowledgements.js","webpack:///./src/components/map-layers-config.js","webpack:///./src/components/v-map-layers.js","webpack:///./src/components/VMapLayers.vue?24ad","webpack:///./src/components/VMapLayers.vue","webpack:///./src/app.js","webpack:///./src/App.vue?a9ea","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["bus","vue_esm","v_selection_panel","name","props","layers","type","Array","required","map","Object","data","period","periodText","items","modes","selectPeriod","parameter","value","shapelayer","watch","handler","$emit","this","updateTimeSlider","updatePaint","deep","mounted","_this","$on","event","createColorSlider","createTimeSlider","methods","margin","limit","range","min","max","timeslider","updateOptions","_this2","document","getElementById","nouislider_default","a","create","start","step","behaviour","connect","tooltips","wNumb_default","decimals","on","val","slider","colorSlider","padding","pips","mode","values","density","format","cssPrefix","querySelectorAll","classes","i","length","classList","add","_this3","begin","parseInt","lodash_default","each","layer","setPaintProperty","id","toString","components","VSelectionPanel","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","flat","color","_v","dense","pt-0","three-line","row","wrap","xs4","label","single-line","model","callback","$$v","expression","_l","n","key","hidden","_e","staticRenderFns","components_VSelectionPanel","__webpack_require__","normalizeComponent","ssrContext","v_welcome","tutorial","Boolean","disclaimer","tutorialDialog","tutorialScreen","CookieLaw","VWelcome","persistent","scrollable","height","width","max-height","max-width","light","src","round","dark","click","$event","stopPropagation","max-heigth","disabled","v_info_panel","clickOpenDap","window","open","v-welcome","VWelcome_normalizeComponent","VInfoPanel","href","nativeOn","components_VInfoPanel","VInfoPanel_normalizeComponent","VAcknowledgements","components_VAcknowledgements","VAcknowledgements_normalizeComponent","mapLayers","source","url","source-layer","filter","layout","visibility","paint","line-dasharray","line-gap-width","line-color","circle-color","highcharts_default","exporting_default","ranges","substances","Original mean","Classified mean","Original P90","Classified P90","v_map_layers","customColor","year","generateLayers","hoverpopup","mapbox_gl_default","Popup","addShapeLayers","e","getCanvas","style","cursor","coordinates","features","geometry","slice","description","properties","setLngLat","setHTML","addTo","remove","popup","div","createElement","setAttribute","setDOMContent","feature_list","queryRenderedFeatures","point","console","log","jquery_default","ajax","succes","result","lngLat","filename","makeBoxPlot","lat","lng","deferredMountedTo","addMapLayers","text","get","stylestring","tiles","getMapString","tileSize","raster-opacity","addLayer","lon","async","success","boxplot","split","Number","chart","title","legend","enabled","xAxis","categories","yAxis","series","tooltip","headerFormat","VMapLayers","app","drawer","analytics","$refs","push","removeLayer","removeSource","v-selection-panel","v-map-layers","VMapLayers_normalizeComponent","v-info-panel","v-acknowledgements","App","xs6","fixed","ref","access-token","map-style","center","zoom","pitch","bearing","min-zoom","src_App","App_normalizeComponent","use","vue2mapbox_gl_default","vuetify_default","config","productionTip","el","template"],"mappings":"+LAEaA,EAAM,IAAIC,EAAA,iECOvBC,GACEC,KAAM,oBACNC,OACEC,QACEC,KAAMC,MACNC,UAAU,GAEZC,KACEH,KAAMI,SAGVC,KAXa,WAYX,OACEC,OAAQ,KACRC,WAAY,GACZC,OACE,SACA,cAEFC,OAAQ,gBAAiB,kBAAmB,eAAgB,kBAC5DC,aAAc,SACdC,UAAW,gBACXC,OAAQ,KAAM,MACdC,YAAY,IAGhBC,OACEJ,cACEK,QAAS,SAAUL,GACjBhB,EAAIsB,MAAM,sBAAuBC,KAAKP,cACtCO,KAAKC,mBACLD,KAAKE,eAEPC,MAAM,GAERT,WACEI,QAAS,SAAUJ,GACjBjB,EAAIsB,MAAM,mBAAoBC,KAAKN,WACnCM,KAAKE,eAEPC,MAAM,GAERR,OACEG,QAAS,SAAUH,GACjBK,KAAKE,eAEPC,MAAM,GAERrB,QACEgB,QAAS,SAAUhB,GACjBkB,KAAKlB,OAASA,EACdkB,KAAKE,eAEPC,MAAM,IAGVC,QAxDa,WAwDF,IAAAC,EAAAL,KACTvB,EAAI6B,IAAI,aAAc,SAACC,GACrB9B,EAAI6B,IAAI,eAAgB,WACtBD,EAAKG,oBACLH,EAAKI,mBACLhC,EAAIsB,MAAM,sBAAuBM,EAAKZ,cACtChB,EAAIsB,MAAM,mBAAoBM,EAAKX,gBAIzCgB,SACET,iBADO,WAEL,GAA0B,eAAtBD,KAAKP,aACP,IAAIkB,EAAS,EACTC,EAAQ,EACRC,GACFC,IAAO,KACPC,IAAO,UAEsB,WAAtBf,KAAKP,eACdkB,EAAS,EACTC,EAAQ,EACRC,GACEC,IAAO,KACPC,IAAO,OAGXf,KAAKgB,WAAWC,eACdN,OAAQA,EACRC,MAAOA,EACPC,MAAOA,KAIXJ,iBAxBO,WAwBa,IAAAS,EAAAlB,KACdgB,EAAaG,SAASC,eAAe,eACzCpB,KAAKgB,WAAaK,EAAAC,EAAWC,OAAOP,GAClCQ,OAAQ,KAAM,MACdC,KAAM,EACNd,OAAQ,EACRC,MAAO,EACPc,UAAW,aACXC,SAAS,EACTd,OACEC,IAAO,KACPC,IAAO,MAETa,UAAWC,KAAQC,SAAU,IAAMD,KAAQC,SAAU,OAEvD9B,KAAKgB,WAAWe,GAAG,YAAa,SAACC,GAC/Bd,EAAKvB,MAAQqC,EACbvD,EAAIsB,MAAM,qBAAsBiC,KAElChC,KAAKE,eAGPM,kBA9CO,WA+CL,IAAIyB,EAASd,SAASC,eAAe,gBACjCc,EAAcb,EAAAC,EAAWC,OAAOU,GAClCT,OAAQ,GAAI,GAAI,IAChBG,UAAU,GAAM,GAAM,GAAM,GAC5Bd,OACEC,KAAQ,GACRC,KAAQ,KAEVU,KAAM,EACNd,OAAQ,EACRwB,QAAS,EACTC,MACEC,KAAM,SACNC,QAAS,EAAG,GAAI,GAAI,GAAI,IACxBC,QAAS,EACTC,OAAQX,KACNC,SAAU,KAGdW,UAAW,QACXb,UAAWC,KAAQC,SAAU,IAAMD,KAAQC,SAAU,IAAMD,KAAQC,SAAU,OAE/ErD,EAAIsB,MAAM,sBAAuBmC,GAKjC,IAHA,IAAIP,EAAUM,EAAOS,iBAAiB,iBAClCC,GAAW,YAAa,YAAa,YAAa,aAE7CC,EAAI,EAAGA,EAAIjB,EAAQkB,OAAQD,IAClCjB,EAAQiB,GAAGE,UAAUC,IAAIJ,EAAQC,IAEnCV,EAAYH,GAAG,YAAa,SAACC,GAC3BvD,EAAIsB,MAAM,sBAAuBmC,MAIrChC,YAlFO,WAkFQ,IAAA8C,EAAAhD,KACTiD,EAAQC,SAASA,SAASlD,KAAKL,MAAM,KACzCwD,EAAA7B,EAAE8B,KAAKpD,KAAKlB,OAAQ,SAACuE,GACnBL,EAAK9D,IAAIoE,iBAAiBD,EAAME,GAAI,iBAAkB,GAClDF,EAAME,KAAON,EAAMO,YAAoC,WAAtBR,EAAKvD,aACxCuD,EAAK9D,IAAIoE,iBAAiBL,EAAMO,WAAY,iBAAkB,GACrDH,EAAME,KAAON,EAAMO,WAAa,KAAOP,EAAQ,GAAGO,YAAoC,eAAtBR,EAAKvD,cAC9EuD,EAAK9D,IAAIoE,iBAAiBL,EAAMO,WAAa,KAAOP,EAAQ,GAAGO,WAAY,iBAAkB,OAKrGC,eCtKFC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA5D,KAAa6D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,sBAAgCF,EAAA,aAAkBG,OAAOC,KAAA,SAAAC,KAAA,GAAAC,MAAA,kBAAmDF,KAAA,WAAeJ,EAAA,mBAAAH,EAAAU,GAAA,wCAAAV,EAAAU,GAAA,KAAAP,EAAA,UAAgGG,OAAOK,MAAA,GAAAC,OAAA,GAAAC,aAAA,MAAsCV,EAAA,UAAAA,EAAA,eAAAA,EAAA,YAAgDG,OAAOQ,IAAA,GAAAC,KAAA,MAAoBZ,EAAA,UAAeG,OAAOU,IAAA,MAAUhB,EAAAU,GAAA,kDAAAV,EAAAU,GAAA,KAAAP,EAAA,UAAoFG,OAAOU,IAAA,MAAUb,EAAA,YAAiBG,OAAOX,GAAA,gBAAAhE,MAAAqE,EAAArE,MAAAsF,MAAA,SAAAC,cAAA,IAAyEC,OAAQpF,MAAAiE,EAAA,aAAAoB,SAAA,SAAAC,GAAkDrB,EAAAnE,aAAAwF,GAAqBC,WAAA,mBAA4B,OAAAtB,EAAAU,GAAA,KAAAP,EAAA,OAAgCG,OAAOX,GAAA,iBAAoBK,EAAAU,GAAA,KAAAP,EAAA,iBAAkCgB,OAAOpF,MAAAiE,EAAA,UAAAoB,SAAA,SAAAC,GAA+CrB,EAAAlE,UAAAuF,GAAkBC,WAAA,cAAyBtB,EAAAuB,GAAAvB,EAAA,eAAAwB,GAAgC,OAAArB,EAAA,WAAqBsB,IAAAD,EAAAlB,OAAaW,MAAA,GAAAO,EAAAzF,MAAAyF,QAA8BxB,EAAAU,GAAA,KAAAP,EAAA,OAAyBG,OAAOX,GAAA,eAAA+B,OAAA,kBAAA1B,EAAAlE,WAAA,iBAAAkE,EAAAlE,aAAgGkE,EAAAU,GAAA,uBAAAV,EAAAlE,WAAA,iBAAAkE,EAAAlE,UAAAqE,EAAA,OAA4FG,OAAOX,GAAA,cAAiBK,EAAA2B,KAAA3B,EAAAU,GAAA,uBAAAV,EAAAlE,WAAA,iBAAAkE,EAAAlE,UAAAqE,EAAA,OAAqGG,OAAOX,GAAA,aAAgBK,EAAAU,GAAA,UAAAP,EAAA,UAAAH,EAAA2B,MAAA,gBAE34CC,oBCCjB,IAsBAC,EAtBAC,EAAA,OAaAC,CACAhH,EACA+E,GATA,EATA,SAAAkC,GACAF,EAAA,SAYA,KAEA,MAUA,oBCpBAG,GACEhH,OACEiH,UACE/G,KAAMgH,UAGV3G,KANa,WAOX,OACE4G,YAAY,EACZC,gBAAgB,EAChBC,eAAgB,UAGpBrG,OACEiG,UACEhG,QAAS,SAAUgG,GACjB9F,KAAKiG,eAAiBH,GAExB3F,MAAM,GAER8F,gBACEnG,QAAS,SAAUmG,GACjBjG,KAAKiG,eAAiBA,EAClBjG,KAAKiG,eACPjG,KAAKkG,eAAiB,QAGtBzH,EAAIsB,MAAM,kBAAmBC,KAAKiG,iBAGtC9F,MAAM,GAER+F,gBACEpG,QAAS,SAAUoG,GACjBlG,KAAKkG,eAAiBA,GAExB/F,MAAM,IAGVsD,YACE0C,iBAAA7E,IC1CJ8E,GADiBzC,OAFjB,WAA0B,IAAAC,EAAA5D,KAAa6D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,YAAgCG,OAAOmC,WAAA,GAAAC,WAAA,GAAAC,OAAA,OAAAC,MAAA,OAAAC,aAAA,OAAAC,YAAA,QAAsG3B,OAAQpF,MAAAiE,EAAA,WAAAoB,SAAA,SAAAC,GAAgDrB,EAAAoC,WAAAf,GAAmBC,WAAA,gBAA0BnB,EAAA,UAAeG,OAAOX,GAAA,aAAAoD,MAAA,MAA8B5C,EAAA,gBAAAA,EAAA,QAAgCE,YAAA,aAAuBL,EAAAU,GAAA,wCAAAV,EAAAU,GAAA,KAAAP,EAAA,eAAAA,EAAA,UAA4FG,OAAOX,GAAA,oBAAAqD,IAAA,gCAA2DhD,EAAAU,GAAA,KAAAP,EAAA,kBAAqCE,YAAA,mBAA6BF,EAAA,SAAcG,OAAO2C,MAAA,GAAAxC,MAAA,UAAAyC,KAAA,IAAuC/E,IAAKgF,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrD,EAAAoC,YAAA,MAAuBpC,EAAAU,GAAA,kCAAAV,EAAAU,GAAA,KAAAP,EAAA,SAAmEG,OAAO2C,MAAA,GAAAxC,MAAA,UAAAyC,KAAA,IAAuC/E,IAAKgF,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrD,EAAAoC,YAAA,EAAqBpC,EAAAqC,gBAAA,MAA2BrC,EAAAU,GAAA,oCAAAV,EAAAU,GAAA,KAAAP,EAAA,YAAwEG,OAAOwC,YAAA,QAAAQ,aAAA,OAAAZ,WAAA,IAAwDvB,OAAQpF,MAAAiE,EAAA,eAAAoB,SAAA,SAAAC,GAAoDrB,EAAAqC,eAAAhB,GAAuBC,WAAA,oBAA8B,UAAAtB,EAAAsC,eAAAnC,EAAA,UAA8CG,OAAOyC,MAAA,GAAApD,GAAA,kBAAgCQ,EAAA,gBAAAA,EAAA,MAA8BE,YAAA,kBAA4BL,EAAAU,GAAA,6CAAAV,EAAAU,GAAA,KAAAP,EAAA,eAAAA,EAAA,KAAAH,EAAAU,GAAA,0bAAAV,EAAAU,GAAA,KAAAP,EAAA,KAAAH,EAAAU,GAAA,sbAAAV,EAAAU,GAAA,KAAAP,EAAA,kBAAAA,EAAA,SAA2hCE,YAAA,QAAAC,OAA2BG,MAAA,UAAAD,KAAA,IAA4BrC,IAAKgF,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrD,EAAAqC,gBAAA,MAA2BrC,EAAAU,GAAA,WAAAV,EAAAU,GAAA,KAAAP,EAAA,SAA4CG,OAAOE,KAAA,GAAA+C,SAAA,MAAyBvD,EAAAU,GAAA,KAAAP,EAAA,SAA0BE,YAAA,OAAAC,OAA0BG,MAAA,UAAAD,KAAA,IAA4BrC,IAAKgF,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrD,EAAAsC,eAAA,YAA6BtC,EAAAU,GAAA,kBAAAV,EAAA2B,KAAA3B,EAAAU,GAAA,eAAAV,EAAAsC,eAAAnC,EAAA,UAA4FG,OAAOyC,MAAA,GAAApD,GAAA,kBAAgCQ,EAAA,gBAAAA,EAAA,MAA8BE,YAAA,kBAA4BL,EAAAU,GAAA,yCAAAV,EAAAU,GAAA,KAAAP,EAAA,eAAAA,EAAA,KAAAH,EAAAU,GAAA,8VAAAV,EAAAU,GAAA,KAAAP,EAAA,OAAmdG,OAAO0C,IAAA,0CAAAJ,MAAA,YAAgE5C,EAAAU,GAAA,KAAAP,EAAA,kBAAAA,EAAA,SAAiDE,YAAA,QAAAC,OAA2BG,MAAA,UAAAD,KAAA,IAA4BrC,IAAKgF,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrD,EAAAqC,gBAAA,MAA2BrC,EAAAU,GAAA,WAAAV,EAAAU,GAAA,KAAAP,EAAA,SAA4CE,YAAA,OAAAC,OAA0BG,MAAA,UAAAD,KAAA,IAA4BrC,IAAKgF,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrD,EAAAsC,eAAA,YAA6BtC,EAAAU,GAAA,UAAAV,EAAAU,GAAA,KAAAP,EAAA,SAA2CE,YAAA,OAAAC,OAA0BG,MAAA,UAAAD,KAAA,IAA4BrC,IAAKgF,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrD,EAAAsC,eAAA,YAA6BtC,EAAAU,GAAA,kBAAAV,EAAA2B,KAAA3B,EAAAU,GAAA,eAAAV,EAAAsC,eAAAnC,EAAA,UAA4FG,OAAOyC,MAAA,GAAApD,GAAA,kBAAgCQ,EAAA,gBAAAA,EAAA,MAA8BE,YAAA,kBAA4BL,EAAAU,GAAA,yCAAAV,EAAAU,GAAA,KAAAP,EAAA,eAAAA,EAAA,KAAAH,EAAAU,GAAA,qSAAAV,EAAAU,GAAA,KAAAP,EAAA,KAAAH,EAAAU,GAAA,oOAAAV,EAAAU,GAAA,KAAAP,EAAA,OAAypBG,OAAO0C,IAAA,4CAAAJ,MAAA,YAAkE5C,EAAAU,GAAA,KAAAP,EAAA,kBAAAA,EAAA,SAAiDE,YAAA,QAAAC,OAA2BG,MAAA,UAAAD,KAAA,IAA4BrC,IAAKgF,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrD,EAAAqC,gBAAA,MAA2BrC,EAAAU,GAAA,WAAAV,EAAAU,GAAA,KAAAP,EAAA,SAA4CE,YAAA,OAAAC,OAA0BG,MAAA,UAAAD,KAAA,IAA4BrC,IAAKgF,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrD,EAAAsC,eAAA,YAA6BtC,EAAAU,GAAA,kBAAAV,EAAA2B,MAAA,QAE7wKC,oBCCjB,ICEA4B,GACExI,KAAM,eACNQ,KAFa,WAGX,OACE0G,UAAU,EACVE,YAAY,IAGhBnG,OACEiG,UACEhG,QAAS,SAAUgG,GACjB9F,KAAK8F,SAAWA,GAElB3F,MAAM,IAGVO,SACE2G,aADO,WAELC,OAAOC,KAAK,wDAAyD,YAGzE9D,YACE+D,YDxBJ9B,EAAA,OAaA+B,CACA5B,EACAO,GATA,EATA,SAAAR,GACAF,EAAA,SAYA,kBAEA,MAUA,SCIEtF,QAxBa,WAwBH,IAAAC,EAAAL,KACRvB,EAAI6B,IAAI,kBAAmB,SAAC2F,GAC1B5F,EAAKyF,SAAWG,MC5BtByB,GADiB/D,OAFjB,WAA0B,IAAAC,EAAA5D,KAAa6D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BF,EAAA,aAAkBG,OAAOC,KAAA,SAAAC,KAAA,GAAAC,MAAA,kBAAmDF,KAAA,WAAeJ,EAAA,mBAAAH,EAAAU,GAAA,uCAAAV,EAAAU,GAAA,KAAAP,EAAA,UAA+FG,OAAOK,MAAA,GAAAC,OAAA,GAAAC,aAAA,MAAsCV,EAAA,UAAAA,EAAA,eAAAH,EAAAU,GAAA,0YAAAP,EAAA,MAAAH,EAAAU,GAAA,sBAAAP,EAAA,KAAgeG,OAAOyD,KAAA,GAAAf,IAAA,qDAAmEhD,EAAAU,GAAA,UAAAV,EAAAU,GAAA,sCAAAP,EAAA,OAA0EE,YAAA,mBAA6BF,EAAA,SAAcG,OAAO2C,MAAA,GAAAxC,MAAA,UAAAyC,KAAA,IAAuCc,UAAWb,MAAA,SAAAC,GAAyBpD,EAAAyD,mBAAqBzD,EAAAU,GAAA,aAAAV,EAAAU,GAAA,KAAAP,EAAA,SAA8CG,OAAO2C,MAAA,GAAAxC,MAAA,UAAAyC,KAAA,IAAuC/E,IAAKgF,MAAA,SAAAC,GAAyBpD,EAAAkC,UAAA,MAAoBlC,EAAAU,GAAA,kBAAAV,EAAAU,GAAA,KAAAP,EAAA,aAAuDG,OAAO8B,WAAApC,EAAAoC,WAAAF,SAAAlC,EAAAkC,aAAqD,gBAEl2CN,oBCCjB,IAsBAqC,EAtBAnC,EAAA,OAaAoC,CACAV,EACAM,GATA,EATA,SAAA9B,GACAF,EAAA,SAYA,KAEA,MAUA,QCtBAqC,GADiBpE,OAFjB,WAA0B,IAAaE,EAAb7D,KAAa8D,eAA0BC,EAAvC/D,KAAuCgE,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,uBAAiCF,EAAA,aAAkBG,OAAOC,KAAA,SAAAC,KAAA,GAAAC,MAAA,kBAAmDF,KAAA,WAAeJ,EAAA,mBAA5M/D,KAA4MsE,GAAA,4CAA5MtE,KAA4MsE,GAAA,KAAAP,EAAA,UAAoGG,OAAOK,MAAA,GAAAC,OAAA,GAAAC,aAAA,MAAsCV,EAAA,UAAAA,EAAA,eAA7V/D,KAA6VsE,GAAA,8NAA7VtE,KAA6VsE,GAAA,KAAAP,EAAA,kBAAuSE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,SAAAC,OAA4BX,GAAA,OAAAqD,IAAA,2DAAwE,YAE1xBpB,oBCCjB,IAsBAwC,EAtBAtC,EAAA,OAaAuC,ECXErJ,KAAM,eACNQ,KAFa,WAGX,OACE0G,UAAU,EACVE,YAAY,KDSlB+B,GATA,EATA,SAAAnC,GACAF,EAAA,SAYA,KAEA,MAUA,QEzBMwC,IAEF3E,GAAM,kBACNxE,KAAQ,OACRoJ,QACEC,IAAO,mCACPrJ,KAAQ,UAEVsJ,eAAgB,kBAChBC,QACE,KACA,QACA,cAEFC,QACEC,WAAc,WAEhBC,OACEC,kBACE,EACA,GAEFC,iBAAkB,EAClBC,aAAc,aAIhBrF,GAAM,kBACNxE,KAAQ,OACRoJ,QACEC,IAAO,mCACPrJ,KAAQ,UAEVsJ,eAAgB,kBAChBC,QACE,KACA,QACA,WAEFC,QACEC,WAAc,WAEhBC,OACEC,kBACE,EACA,MAKJnF,GAAM,gBACNxE,KAAQ,SACRoJ,QACEC,IAAO,mCACPrJ,KAAQ,UAEVsJ,eAAgB,uCAChBC,QACE,KACA,QACA,SAEFC,QACEC,WAAc,WAEhBC,OACEI,eAAgB,+GCrDtBnD,EAAQ,OAARA,CAAyCoD,EAAAxH,GACzCyH,IAAUD,EAAAxH,GAEV,IACM0H,GAAU,KAAM,MAChBC,GACJC,gBAAiB,mBACjBC,kBAAmB,mBACnBC,eAAgB,kBAChBC,iBAAkB,mBAGpBC,GACE1K,KAAM,eACNQ,KAFa,WAGX,OACEF,IAAK,KACLQ,UAAW,gBACXD,aAAc,SACdyC,YAAa,GACbqH,YAAa,GACbC,KAAM,OAGVpJ,QAZa,WAYF,IAAAC,EAAAL,KACTvB,EAAI6B,IAAI,qBAAsB,SAAC0B,GAC7B3B,EAAKmJ,KAAOxH,EAAI,KAGlBvD,EAAI6B,IAAI,sBAAuB,SAAC4B,GAC9B7B,EAAK6B,YAAcA,EACnB7B,EAAKoJ,mBAGPhL,EAAI6B,IAAI,mBAAoB,SAACZ,GAC3BW,EAAKX,UAAYA,EACjBW,EAAKoJ,mBAGPhL,EAAI6B,IAAI,sBAAuB,SAACb,GAEJ,OAAtBY,EAAKZ,aACPY,EAAKZ,aAAeA,GAEpBY,EAAKZ,aAAeA,EACpBY,EAAKoJ,oBAGThL,EAAI6B,IAAI,aAAc,SAACpB,GACrB,IAAIwK,EAAa,IAAIC,EAAArI,EAASsI,UAE9BvJ,EAAKwJ,iBACLpL,EAAIsB,MAAM,gBACVM,EAAKnB,IAAI6C,GAAG,aAAc,gBAAiB,SAAC+H,GAC1CzJ,EAAKnB,IAAI6K,YAAYC,MAAMC,OAAS,UACpC,IAAIC,EAAcJ,EAAEK,SAAS,GAAGC,SAASF,YAAYG,QACjDC,EAAcR,EAAEK,SAAS,GAAGI,WAAW,aAC3Cb,EAAWc,UAAUN,GAClBO,QAAQH,GACRI,MAAMxL,KAGXmB,EAAKnB,IAAI6C,GAAG,aAAc,gBAAiB,WACzC2H,EAAWiB,SACXtK,EAAKnB,IAAI6K,YAAYC,MAAMC,OAAS,KAGtC,IAAIW,EAAQ,IAAIjB,EAAArI,EAASsI,UACrBiB,EAAMvD,OAAOnG,SAAS2J,cAAc,SACxCD,EAAIE,aAAa,KAAM,SAEvBH,EAAMI,cAAcH,GACpBxK,EAAKnB,IAAI6C,GAAG,QAAS,SAAC+H,GACpB,IAAImB,EAAe5K,EAAKnB,IAAIgM,sBAAsBpB,EAAEqB,OACpD,GAAiC,kBAA7BF,EAAa,GAAG5H,MAAME,GAAwB,CAChD6H,QAAQC,IAAIJ,EAAa,IACbA,EAAa,GAAGV,WAAW,cACvC,GAA0B,WAAtBlK,EAAKZ,aACSY,EAAKmJ,UAGTnJ,EAAKmJ,KAAO,EAI1B8B,EAAAhK,EAAEiK,MAEAnD,IAAK,mNACLoD,OAAQ,SAAUC,GAChBL,QAAQC,IAAII,MAQlB,GAJAb,EAAMD,SACNC,EAAMJ,UAAUV,EAAE4B,QACfhB,MAAMrK,EAAKnB,KACX8L,cAAcH,GACS,WAAtBxK,EAAKZ,aACP,IAAIkM,EAAW,WAAatL,EAAKmJ,KAAKhG,eACP,eAAtBnD,EAAKZ,eACdkM,EAAW,WAAazI,SAAS7C,EAAKmJ,MAAMhG,WAAa,KAAON,SAAS7C,EAAKmJ,MAAQ,GAAGhG,YAE3FnD,EAAKuL,YAAYD,EAAU7B,EAAE4B,OAAOG,IAAK/B,EAAE4B,OAAOI,UAIxDpL,SACEqL,kBADO,SACY7M,GACjBc,KAAKd,IAAMA,GAGbuK,eALO,WAKW,IAAAvI,EAAAlB,KAChBvB,EAAIsB,MAAM,qBAEVoD,EAAA7B,EAAE8B,KAAKD,EAAA7B,EAAET,MAAMmI,EAAO,GAAIA,EAAO,IAAK,SAACQ,GACrCtI,EAAK8K,aAAaxC,MAItBwC,aAbO,SAaOxC,GACZ,GAA0B,WAAtBxJ,KAAKP,aACP,IAAIkM,EAAW,WAAazI,SAASsG,GAAMhG,WACvCD,EAAKL,SAASsG,GAAMhG,eACO,eAAtBxD,KAAKP,eACdkM,EAAW,WAAazI,SAASsG,GAAMhG,WAAa,KAAON,SAASsG,GAAQ,GAAGhG,WAC/ED,EAAKL,SAASsG,GAAMhG,WAAa,KAAOgG,EAAO,IAEjD,GAAuB,oBAAnBxJ,KAAKN,UAAqD,mBAAnBM,KAAKN,UAAgC,CAC9E,IAAIuM,EAAO,SACX9I,EAAA7B,EAAE8B,KAAKpD,KAAKkC,YAAYgK,MAAO,SAAClK,EAAKY,GACnCqJ,GAAQ,IAAM/I,SAASlB,KAEzB,IAAImK,EAAc,mBAAqBF,EAAO,0BAE9CE,EAAc,wBAGhB,IACI9I,GACFE,GAAIA,EACJxE,KAAM,SACNoJ,QACEpJ,KAAM,SACNqN,OANQpM,KAAKqM,aAAaV,EAAUQ,IAOpCG,SAAY,KAEd7D,OACE8D,iBAAkB,IAGtBvM,KAAKd,IAAIsN,SAASnJ,EAAO6E,EAAU,GAAG3E,IACtC9E,EAAIsB,MAAM,YAAasD,IAGzBgJ,aAhDO,SAgDOV,EAAUQ,GActB,MArKa,wDAwJanM,KAAKP,aAAe,IAAMkM,EAAW,uDAIjD1C,EAAWjJ,KAAKN,WAAa,mGAOzCyM,EACA,qBAIJP,YAjEO,SAiEMD,EAAUE,EAAKY,GAC1BnB,EAAAhK,EAAEiK,MAAMnD,IAAK,8DAAgEpI,KAAKP,aAAe,IAAMkM,EAAW,oHAAsHE,EAAM,cAAgBY,EAAM,cAClQC,OAAO,EACPC,QAAS,SAAUlB,GACjB,IACImB,GADSnB,EAAOoB,MAAM,MACJ,GAAGA,MAAM,KAAKxC,MAAM,GAAGnL,IAAI4N,SACjDhE,EAAAxH,EAAWyL,MAAM,SACfA,OACEhO,KAAM,WAERiO,OACEf,KAAM,eAERgB,QACEC,SAAS,GAEXC,OACEC,YAAa,KACbJ,OACEf,KAAMN,EAASkB,MAAM,KAAK,KAI9BQ,OACEL,OACEf,KAAM,yBAIVqB,SACE1O,KAAM+M,EACNvM,KAAMwN,EACNW,SACEC,aAAc,YAAc3B,EAAM,SAAWY,EAAM,sBAS/D5C,eA3GO,WA2GW,IAAA7G,EAAAhD,KAChBmD,EAAA7B,EAAE8B,KAAK8E,EAAW,SAAC7E,GACjBL,EAAK9D,IAAIsN,SAASnJ,QCjO1BoK,GADiB9J,OAFjB,WAA0B,IAAaE,EAAb7D,KAAa8D,eAAkD,OAA/D9D,KAAuCgE,MAAAD,IAAAF,GAAwB,OAAiBK,OAAOX,GAAA,gBAEhGiC,oBCCjB,ICOAkI,GACE9O,KAAM,MACNQ,KAAM,WACJ,OACEF,IAAK,KACLyO,OAAQ,KACR7O,UACA8O,WAAW,IAGbxN,QAVW,WAUA,IAAAC,EAAAL,KACXA,KAAKd,IAAMc,KAAK6N,MAAM3O,IAAIA,IAE1BT,EAAI6B,IAAI,YAAa,SAAC+C,GACpBhD,EAAKvB,OAAOgP,KAAKzK,KAGnB5E,EAAI6B,IAAI,oBAAqB,WAC3B6C,EAAA7B,EAAE8B,KAAK/C,EAAKvB,OAAQ,SAACuE,GACnBhD,EAAKnB,IAAI6O,YAAY1K,EAAME,IAC3BlD,EAAKnB,IAAI8O,aAAa3K,EAAME,MAE9BlD,EAAKvB,YAGPkB,KAAKd,IAAI6C,GAAG,OAAQ,SAACxB,GACnB9B,EAAIsB,MAAM,aAAcM,EAAKnB,OAE/Bc,KAAKd,IAAI6C,GAAG,QAAS,SAACxB,GACpB6K,QAAQC,IAAI9K,MAGhBG,WACA+C,YACEwK,oBAAqBxI,EACrByI,eD1CJxI,EAAA,OAaAyI,CACA7E,EACAmE,GATA,EATA,SAAA7H,GACAF,EAAA,SAYA,KAEA,MAUA,QCqBI0I,eAAgBvG,EAChBwG,qBAAsBrG,IC5C1BsG,GADiB3K,OAFjB,WAA0B,IAAAC,EAAA5D,KAAa6D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBG,OAAOX,GAAA,aAAgBQ,EAAA,uBAA4BG,OAAOsC,MAAA,MAAAjD,GAAA,YAAAmK,IAAA,IAAwC3I,OAAQpF,MAAAiE,EAAA,OAAAoB,SAAA,SAAAC,GAA4CrB,EAAA+J,OAAA1I,GAAeC,WAAA,YAAsBnB,EAAA,qBAA0BG,OAAOpF,OAAA8E,EAAA9E,OAAAI,IAAA0E,EAAA1E,OAAmC0E,EAAAU,GAAA,KAAAP,EAAA,gBAAiCG,OAAOpF,OAAA8E,EAAA9E,OAAAI,IAAA0E,EAAA1E,OAAmC0E,EAAAU,GAAA,KAAAP,EAAA,sBAAuCG,OAAOpF,OAAA8E,EAAA9E,OAAAI,IAAA0E,EAAA1E,QAAmC,GAAA0E,EAAAU,GAAA,KAAAP,EAAA,aAAkCG,OAAOqK,IAAA,GAAAlK,MAAA,iBAAAmK,MAAA,GAAAd,IAAA,MAAuD3J,EAAA,uBAA4BhC,IAAIgF,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrD,EAAA+J,QAAA/J,EAAA+J,WAA2B/J,EAAAU,GAAA,KAAAP,EAAA,mBAAAH,EAAAU,GAAA,wEAAAV,EAAAU,GAAA,KAAAP,EAAA,gBAAAH,EAAAU,GAAA,KAAAP,EAAA,aAAAA,EAAA,OAAwLG,OAAOX,GAAA,SAAYQ,EAAA,YAAiB0K,IAAA,MAAAvK,OAAiBwK,eAAA,mEAAAC,YAAA,kCAAAC,QAAA,oBAAAC,KAAA,KAAAC,MAAA,EAAAC,QAAA,EAAAC,WAAA,EAAAzL,GAAA,SAA0NQ,EAAA,gBAAqBG,OAAOpF,OAAA8E,EAAA9E,OAAAI,IAAA0E,EAAA1E,OAAmC0E,EAAAU,GAAA,KAAAP,EAAA,8CAEzsCyB,oBCCjB,IAsBAyJ,EAtBAvJ,EAAA,OAaAwJ,CACAxB,EACAY,GATA,EATA,SAAA1I,GACAF,EAAA,SAYA,KAEA,MAUA,uCCfAhH,EAAA,EAAIyQ,IAAIC,EAAA9N,GACR5C,EAAA,EAAIyQ,IAAIE,EAAA/N,GAIR5C,EAAA,EAAI4Q,OAAOC,eAAgB,EAE3B,IAAI7Q,EAAA,GACF8Q,GAAI,OACJC,SAAU,SACVhM,YACE6K,IAAAW","file":"static/js/app.d5d27a3606ce39a87e2f.js","sourcesContent":["/* eslint-disable */\r\nimport Vue from 'vue';\r\nexport const bus = new Vue();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/event-bus.js","import {\r\n  bus\r\n} from '@/event-bus.js'\r\nimport noUiSlider from 'noUiSlider'\r\nimport wNumb from 'wNumb'\r\nimport _ from 'lodash'\r\n\r\n// TODO: Fix this by looping over datasets in this.layers. This is an ugly fix\r\n\r\nexport default {\r\n  name: 'v-selection-panel',\r\n  props: {\r\n    layers: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    map: {\r\n      type: Object\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      period: 2004,\r\n      periodText: '',\r\n      items: [\r\n        'yearly',\r\n        'six_yearly'\r\n      ],\r\n      modes: ['Original mean', 'Classified mean', 'Original P90', 'Classified P90'],\r\n      selectPeriod: 'yearly',\r\n      parameter: 'Original mean',\r\n      value: [2002, 2003],\r\n      shapelayer: false\r\n    }\r\n  },\r\n  watch: {\r\n    selectPeriod: {\r\n      handler: function (selectPeriod) {\r\n        bus.$emit('change-selectPeriod', this.selectPeriod)\r\n        this.updateTimeSlider()\r\n        this.updatePaint()\r\n      },\r\n      deep: true\r\n    },\r\n    parameter: {\r\n      handler: function (parameter) {\r\n        bus.$emit('change-parameter', this.parameter)\r\n        this.updatePaint()\r\n      },\r\n      deep: true\r\n    },\r\n    value: {\r\n      handler: function (value) {\r\n        this.updatePaint()\r\n      },\r\n      deep: true\r\n    },\r\n    layers: {\r\n      handler: function (layers) {\r\n        this.layers = layers\r\n        this.updatePaint()\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  mounted () {\r\n    bus.$on('map-loaded', (event) => {\r\n      bus.$on('shapes-added', () =>{\r\n        this.createColorSlider()\r\n        this.createTimeSlider()\r\n        bus.$emit('change-selectPeriod', this.selectPeriod)\r\n        bus.$emit('change-parameter', this.parameter)\r\n      })\r\n    })\r\n  },\r\n  methods: {\r\n    updateTimeSlider () {\r\n      if (this.selectPeriod === 'six_yearly') {\r\n        var margin = 6\r\n        var limit = 6\r\n        var range = {\r\n          'min': 2002,\r\n          'max': 2023\r\n        }\r\n      } else if (this.selectPeriod === 'yearly') {\r\n        margin = 1\r\n        limit = 1\r\n        range = {\r\n          'min': 2002,\r\n          'max': 2017\r\n        }\r\n      }\r\n      this.timeslider.updateOptions({\r\n        margin: margin,\r\n        limit: limit,\r\n        range: range\r\n      })\r\n    },\r\n\r\n    createTimeSlider () {\r\n      var timeslider = document.getElementById('slider-time')\r\n      this.timeslider = noUiSlider.create(timeslider, {\r\n        start: [2002, 2007],\r\n        step: 1,\r\n        margin: 1,\r\n        limit: 1,\r\n        behaviour: 'drag-fixed',\r\n        connect: true,\r\n        range: {\r\n          'min': 2002,\r\n          'max': 2017\r\n        },\r\n        tooltips: [wNumb({ decimals: 0 }), wNumb({ decimals: 0 })]\r\n      })\r\n      this.timeslider.on('slide.one', (val) => {\r\n        this.value = val\r\n        bus.$emit('change-time-slider', val)\r\n      })\r\n      this.updatePaint()\r\n    },\r\n\r\n    createColorSlider () {\r\n      var slider = document.getElementById('slider-color')\r\n      var colorSlider = noUiSlider.create(slider, {\r\n        start: [20, 40, 60],\r\n        connect: [true, true, true, true],\r\n        range: {\r\n          'min': [0],\r\n          'max': [80]\r\n        },\r\n        step: 5,\r\n        margin: 5,\r\n        padding: 5,\r\n        pips: {\r\n          mode: 'values',\r\n          values: [0, 20, 40, 60, 80],\r\n          density: 4,\r\n          format: wNumb({\r\n            decimals: 2\r\n          })\r\n        },\r\n        cssPrefix: 'noUi-',\r\n        tooltips: [wNumb({ decimals: 1 }), wNumb({ decimals: 1 }), wNumb({ decimals: 1 })]\r\n      })\r\n      bus.$emit('create-color-slider', colorSlider)\r\n\r\n      var connect = slider.querySelectorAll('.noUi-connect')\r\n      var classes = ['c-1-color', 'c-2-color', 'c-3-color', 'c-4-color']\r\n\r\n      for (var i = 0; i < connect.length; i++) {\r\n        connect[i].classList.add(classes[i])\r\n      }\r\n      colorSlider.on('slide.one', (val) => {\r\n        bus.$emit('create-color-slider', colorSlider)\r\n        // this.updatePaint()\r\n      })\r\n    },\r\n    updatePaint () {\r\n      var begin = parseInt(parseInt(this.value['0']))\r\n      _.each(this.layers, (layer) => {\r\n        this.map.setPaintProperty(layer.id, 'raster-opacity', 0)\r\n        if (layer.id === begin.toString() && this.selectPeriod === 'yearly') {\r\n          this.map.setPaintProperty(begin.toString(), 'raster-opacity', 1)\r\n        } else if (layer.id === begin.toString() + '_' + (begin + 5).toString() && this.selectPeriod === 'six_yearly') {\r\n          this.map.setPaintProperty(begin.toString() + '_' + (begin + 5).toString(), 'raster-opacity', 1)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  components: {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/v-selection-panel.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"v-selection-panel\"},[_c('v-toolbar',{attrs:{\"slot\":\"header\",\"flat\":\"\",\"color\":\"grey lighten-4\"},slot:\"header\"},[_c('v-toolbar-title',[_vm._v(\"\\r\\n      Select image\\r\\n    \")])],1),_vm._v(\" \"),_c('v-list',{attrs:{\"dense\":\"\",\"pt-0\":\"\",\"three-line\":\"\"}},[_c('v-card',[_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_vm._v(\"\\r\\n            Select period:\\r\\n          \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-select',{attrs:{\"id\":\"select-period\",\"items\":_vm.items,\"label\":\"Select\",\"single-line\":\"\"},model:{value:(_vm.selectPeriod),callback:function ($$v) {_vm.selectPeriod=$$v},expression:\"selectPeriod\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"slider-time\"}}),_vm._v(\" \"),_c('v-radio-group',{model:{value:(_vm.parameter),callback:function ($$v) {_vm.parameter=$$v},expression:\"parameter\"}},_vm._l((_vm.modes),function(n){return _c('v-radio',{key:n,attrs:{\"label\":(\"\" + n),\"value\":n}})})),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"slider-color\",\"hidden\":_vm.parameter==='Original mean' || _vm.parameter==='Original P90'}}),_vm._v(\" \"),(_vm.parameter==='Original mean' || _vm.parameter==='Original P90')?_c('div',{attrs:{\"id\":\"colorbar\"}}):_vm._e(),_vm._v(\" \"),(_vm.parameter==='Original mean' || _vm.parameter==='Original P90')?_c('div',{attrs:{\"id\":\"bartext\"}},[_vm._v(\" 0 80 \"),_c('span')]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d3bcba0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/VSelectionPanel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d3bcba0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VSelectionPanel.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./v-selection-panel.js\"\nimport __vue_script__ from \"!!babel-loader!./v-selection-panel.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d3bcba0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VSelectionPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VSelectionPanel.vue\n// module id = null\n// module chunks = ","import {\r\n  bus\r\n} from '@/event-bus.js'\r\nimport CookieLaw from 'vue-cookie-law'\r\n\r\nexport default {\r\n  props: {\r\n    tutorial: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      disclaimer: true,\r\n      tutorialDialog: false,\r\n      tutorialScreen: 'step1'\r\n    }\r\n  },\r\n  watch: {\r\n    tutorial: {\r\n      handler: function (tutorial) {\r\n        this.tutorialDialog = tutorial\r\n      },\r\n      deep: true\r\n    },\r\n    tutorialDialog: {\r\n      handler: function (tutorialDialog) {\r\n        this.tutorialDialog = tutorialDialog\r\n        if (this.tutorialDialog) {\r\n          this.tutorialScreen = 'step1'\r\n        }\r\n        else {\r\n          bus.$emit('tutorial-closed', this.tutorialDialog)\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n    tutorialScreen: {\r\n      handler: function (tutorialScreen) {\r\n        this.tutorialScreen = tutorialScreen\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  components: {\r\n    CookieLaw\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/v-welcome.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"persistent\":\"\",\"scrollable\":\"\",\"height\":\"80vh\",\"width\":\"40vw\",\"max-height\":\"80vh\",\"max-width\":\"40vw\"},model:{value:(_vm.disclaimer),callback:function ($$v) {_vm.disclaimer=$$v},expression:\"disclaimer\"}},[_c('v-card',{attrs:{\"id\":\"disclaimer\",\"light\":\"\"}},[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"\\n          Disclaimer\\n        \")])]),_vm._v(\" \"),_c('v-card-text',[_c('iframe',{attrs:{\"id\":\"disclaimerContent\",\"src\":\"./static/disclaimer.html\"}})]),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"text-xs-center\"},[_c('v-btn',{attrs:{\"round\":\"\",\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.disclaimer=false}}},[_vm._v(\"Agree and proceed to website\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"round\":\"\",\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.disclaimer=false; _vm.tutorialDialog=true}}},[_vm._v(\"Agree and tutorial\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"600px\",\"max-heigth\":\"60vh\",\"scrollable\":\"\"},model:{value:(_vm.tutorialDialog),callback:function ($$v) {_vm.tutorialDialog=$$v},expression:\"tutorialDialog\"}},[(_vm.tutorialScreen==='step1')?_c('v-card',{attrs:{\"light\":\"\",\"id\":\"tutorialCard\"}},[_c('v-card-title',[_c('h3',{staticClass:\"headline mb-0\"},[_vm._v(\"\\n          Tutorial step 1\\n        \")])]),_vm._v(\" \"),_c('v-card-text',[_c('p',[_vm._v(\"\\n          Would you like to use satellite data for marine environmental decision making, such as the Marine Strategy Framework Directive (MSFD)?\\n          Our new algorithm blends thousands of customised satellite datasets of concentration of chlorophyll pigment (CHL), which are indicative\\n          of phytoplankton in offshore, rocky, and turbid coastal waters. The resulting maps are presented in the MSFD-Eutro viewer\\n        \")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n          Trend analysis of CHL helps to understand the response of the marine ecosystem to human pressures such as eutrophication.\\n          The status of a particular marine area with respect to eutrophication is determined by winter nutrient concentrations, but also by\\n          multi-year mean and maximum (expressed as P90) chlorophyll-a concentrations evaluated against certain thresholds (assessment levels).\\n        \")])]),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{staticClass:\"Close\",attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.tutorialDialog=false}}},[_vm._v(\"Close\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":\"\"}}),_vm._v(\" \"),_c('v-btn',{staticClass:\"Next\",attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.tutorialScreen='step2'}}},[_vm._v(\"Next\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.tutorialScreen==='step2')?_c('v-card',{attrs:{\"light\":\"\",\"id\":\"tutorialCard\"}},[_c('v-card-title',[_c('h3',{staticClass:\"headline mb-0\"},[_vm._v(\"\\n        Tutorial step 2\\n      \")])]),_vm._v(\" \"),_c('v-card-text',[_c('p',[_vm._v(\"\\n        Clicking Original mean or Original P90 enables you to check yearly or six-yearly average or maximum chlorophyll concentrations.\\n        Analyse trends in time by dragging the slider on the time bar. If you click in the map, you can show and download the plot of\\n        the statistics. With alt + prt sc you capture the map.\\n      \")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":\"static/images/StatsReporting-Arrows.png\",\"width\":\"100%\"}})]),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{staticClass:\"Close\",attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.tutorialDialog=false}}},[_vm._v(\"Close\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"Back\",attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.tutorialScreen='step1'}}},[_vm._v(\"Back\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"Next\",attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.tutorialScreen='step3'}}},[_vm._v(\"Next\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.tutorialScreen==='step3')?_c('v-card',{attrs:{\"light\":\"\",\"id\":\"tutorialCard\"}},[_c('v-card-title',[_c('h3',{staticClass:\"headline mb-0\"},[_vm._v(\"\\n        Tutorial step 3\\n      \")])]),_vm._v(\" \"),_c('v-card-text',[_c('p',[_vm._v(\"\\n        To check the spatial impact of choosing different (international) assessment levels and methods... you can: Select Classified mean or\\n        Classified P90 and evaluate the spatial impact of assessment levels interactively by dragging the sliders on the colour scale.\\n      \")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n        Our tool directly enables you to use data for good. We hope that our interactive web-mapping tool provides input to the discussion on\\n        international harmonisation of assessment levels and methods.\\n      \")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":\"static/images/AssessmentLevels-Arrows.png\",\"width\":\"100%\"}})]),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{staticClass:\"Close\",attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.tutorialDialog=false}}},[_vm._v(\"Close\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"Back\",attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.tutorialScreen='step2'}}},[_vm._v(\"Back\")])],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c96bb9e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/VWelcome.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c96bb9e4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VWelcome.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./v-welcome.js\"\nimport __vue_script__ from \"!!babel-loader!./v-welcome.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c96bb9e4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VWelcome.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c96bb9e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VWelcome.vue\n// module id = null\n// module chunks = ","import {\r\n  bus\r\n} from '@/event-bus.js'\r\nimport VWelcome from './VWelcome'\r\n\r\nexport default {\r\n  name: 'v-info-panel',\r\n  data () {\r\n    return {\r\n      tutorial: false,\r\n      disclaimer: true\r\n    }\r\n  },\r\n  watch: {\r\n    tutorial: {\r\n      handler: function (tutorial) {\r\n        this.tutorial = tutorial\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    clickOpenDap () {\r\n      window.open('https://tl-ng038.xtr.deltares.nl/thredds/catalog.html', '_blank')\r\n    }\r\n  },\r\n  components: {\r\n    'v-welcome': VWelcome\r\n  },\r\n  mounted() {\r\n    bus.$on('tutorial-closed', (tutorialDialog) => {\r\n      this.tutorial = tutorialDialog\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/v-info-panel.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"v-info-panel\"},[_c('v-toolbar',{attrs:{\"slot\":\"header\",\"flat\":\"\",\"color\":\"grey lighten-4\"},slot:\"header\"},[_c('v-toolbar-title',[_vm._v(\"\\r\\n      Information\\r\\n    \")])],1),_vm._v(\" \"),_c('v-list',{attrs:{\"dense\":\"\",\"pt-0\":\"\",\"three-line\":\"\"}},[_c('v-card',[_c('v-card-text',[_vm._v(\"\\r\\n        MSFD-Eutro is a free and open, active and interactive web-mapping service that shows chlorophyll indicator maps based on growing-season\\r\\n        statistics (mean, and max as P90). MSFD-Eutro aims to facilitate the use and appreciation of ocean colour data by policy\\r\\n        advisors and policy makers for the European Marine Strategy Framework Directive (MSFD).\\r\\n        \"),_c('br'),_vm._v(\"\\r\\n        Click \"),_c('a',{attrs:{\"href\":\"\",\"src\":\"https://www.deltares.nl/en/projects/msfd-eutro/\"}},[_vm._v(\"here\")]),_vm._v(\" for more information.\\r\\n        \"),_c('div',{staticClass:\"text-xs-center\"},[_c('v-btn',{attrs:{\"round\":\"\",\"color\":\"primary\",\"dark\":\"\"},nativeOn:{\"click\":function($event){_vm.clickOpenDap()}}},[_vm._v(\"OpenDap\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"round\":\"\",\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":function($event){_vm.tutorial=true}}},[_vm._v(\"Tutorial\")])],1),_vm._v(\" \"),_c('v-welcome',{attrs:{\"disclaimer\":_vm.disclaimer,\"tutorial\":_vm.tutorial}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-809d2e66\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/VInfoPanel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-809d2e66\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VInfoPanel.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./v-info-panel.js\"\nimport __vue_script__ from \"!!babel-loader!./v-info-panel.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-809d2e66\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VInfoPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VInfoPanel.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"v-acknowledgements\"},[_c('v-toolbar',{attrs:{\"slot\":\"header\",\"flat\":\"\",\"color\":\"grey lighten-4\"},slot:\"header\"},[_c('v-toolbar-title',[_vm._v(\"\\r\\n      Acknowledgements\\r\\n    \")])],1),_vm._v(\" \"),_c('v-list',{attrs:{\"dense\":\"\",\"pt-0\":\"\",\"three-line\":\"\"}},[_c('v-card',[_c('v-card-text',[_vm._v(\"\\r\\n        We acknowledge CMEMS, ESA, EUMETSAT and Copernicus for satellite data, and CMEMS for funding.\\r\\n        The MSFD-Eutro service was developed as a Demonstration Project under Contact 33â€“DEM2-L2.\\r\\n      \")]),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"text-xs-center\"},[_c('img',{staticClass:\"center\",attrs:{\"id\":\"logo\",\"src\":\"static/images/CMEMS-DEMO-MSFD-EUTRO_33-DEM3-L2.png\"}})])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c159327a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/VAcknowledgements.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c159327a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VAcknowledgements.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./v-acknowledgements.js\"\nimport __vue_script__ from \"!!babel-loader!./v-acknowledgements.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c159327a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VAcknowledgements.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VAcknowledgements.vue\n// module id = null\n// module chunks = ","import {\r\n  bus\r\n} from '@/event-bus.js'\r\n\r\nexport default {\r\n  name: 'v-info-panel',\r\n  data () {\r\n    return {\r\n      tutorial: false,\r\n      disclaimer: true\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/v-acknowledgements.js","const mapLayers = [\r\n  {\r\n    'id': 'ospar-eu-6iavvw',\r\n    'type': 'line',\r\n    'source': {\r\n      'url': 'mapbox://mariekeeleveld.410g4lyk',\r\n      'type': 'vector'\r\n    },\r\n    'source-layer': 'ospar_eu-6iavvw',\r\n    'filter': [\r\n      '==',\r\n      '$type',\r\n      'LineString'\r\n    ],\r\n    'layout': {\r\n      'visibility': 'visible'\r\n    },\r\n    'paint': {\r\n      'line-dasharray': [\r\n        2,\r\n        2\r\n      ],\r\n      'line-gap-width': 0,\r\n      'line-color': '#000000'\r\n    }\r\n  },\r\n  {\r\n    'id': 'ospar-nl-c0abqr',\r\n    'type': 'line',\r\n    'source': {\r\n      'url': 'mapbox://mariekeeleveld.cfz5dxdk',\r\n      'type': 'vector'\r\n    },\r\n    'source-layer': 'ospar_nl-c0abqr',\r\n    'filter': [\r\n      '==',\r\n      '$type',\r\n      'Polygon'\r\n    ],\r\n    'layout': {\r\n      'visibility': 'visible'\r\n    },\r\n    'paint': {\r\n      'line-dasharray': [\r\n        1,\r\n        1\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    'id': 'mwtl-stations',\r\n    'type': 'circle',\r\n    'source': {\r\n      'url': 'mapbox://mariekeeleveld.ddmfd1ai',\r\n      'type': 'vector'\r\n    },\r\n    'source-layer': 'MWTL_WB_Conv_XLSInclFullNames-4tanvq',\r\n    'filter': [\r\n      '==',\r\n      '$type',\r\n      'Point'\r\n    ],\r\n    'layout': {\r\n      'visibility': 'visible'\r\n    },\r\n    'paint': {\r\n      'circle-color': 'hsla(0, 0%, 0%, 0.32)'\r\n    }\r\n  }\r\n]\r\n\r\nexport {\r\n  mapLayers\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/map-layers-config.js","import {\r\n  bus\r\n} from '@/event-bus.js'\r\n\r\nimport {\r\n  mapLayers\r\n} from './map-layers-config.js'\r\nimport _ from 'lodash'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport Highcharts from 'highcharts'\r\nimport Exporting from 'highcharts/modules/exporting'\r\nimport $ from 'jquery'\r\n\r\nrequire('highcharts/highcharts-more.js')(Highcharts)\r\nExporting(Highcharts)\r\n\r\nconst SERVER_URL = 'https://tl-ng038.xtr.deltares.nl/thredds/wms/Thredds/'\r\nconst ranges = [2002, 2017]\r\nconst substances = {\r\n  'Original mean': 'mean_chlorophyll',\r\n  'Classified mean': 'mean_chlorophyll',\r\n  'Original P90': 'P90_chlorophyll',\r\n  'Classified P90': 'P90_chlorophyll'\r\n}\r\n\r\nexport default {\r\n  name: 'v-map-layers',\r\n  data () {\r\n    return {\r\n      map: null,\r\n      parameter: 'Original mean',\r\n      selectPeriod: 'yearly',\r\n      colorSlider: '',\r\n      customColor: '',\r\n      year: 2003\r\n    }\r\n  },\r\n  mounted () {\r\n    bus.$on('change-time-slider', (val) => {\r\n      this.year = val[1]\r\n    })\r\n\r\n    bus.$on('create-color-slider', (colorSlider) => {\r\n      this.colorSlider = colorSlider\r\n      this.generateLayers()\r\n    })\r\n\r\n    bus.$on('change-parameter', (parameter) => {\r\n      this.parameter = parameter\r\n      this.generateLayers()\r\n    })\r\n\r\n    bus.$on('change-selectPeriod', (selectPeriod) => {\r\n      // preventing to start generateLayers twice while initializing\r\n      if (this.selectPeriod === null) {\r\n        this.selectPeriod = selectPeriod\r\n      } else {\r\n        this.selectPeriod = selectPeriod\r\n        this.generateLayers()\r\n      }\r\n    })\r\n    bus.$on('map-loaded', (map) => {\r\n      var hoverpopup = new mapboxgl.Popup({})\r\n\r\n      this.addShapeLayers()\r\n      bus.$emit('shapes-added')\r\n      this.map.on('mouseenter', 'mwtl-stations', (e) => {\r\n        this.map.getCanvas().style.cursor = 'pointer';\r\n        var coordinates = e.features[0].geometry.coordinates.slice()\r\n        var description = e.features[0].properties['Full name']\r\n        hoverpopup.setLngLat(coordinates)\r\n          .setHTML(description)\r\n          .addTo(map)\r\n      })\r\n\r\n      this.map.on('mouseleave', 'mwtl-stations', () => {\r\n        hoverpopup.remove()\r\n        this.map.getCanvas().style.cursor = '';\r\n      })\r\n\r\n      var popup = new mapboxgl.Popup({})\r\n      var div = window.document.createElement('popup')\r\n      div.setAttribute('id', 'popup')\r\n\r\n      popup.setDOMContent(div)\r\n      this.map.on('click', (e) => {\r\n        var feature_list = this.map.queryRenderedFeatures(e.point)\r\n        if (feature_list[0].layer.id === 'mwtl-stations') {\r\n          console.log(feature_list[0])\r\n          var locId = feature_list[0].properties['Short name']\r\n          if (this.selectPeriod === 'yearly') {\r\n            var beginyear = this.year - 5\r\n          }\r\n          else {\r\n            beginyear = this.year - 1\r\n          }\r\n          var url = 'http://live.waterbase.nl/wboutput.cfm?loc=GOERE6&wbwns=282%7CChlorofyl-a+in+ug%2Fl+in+oppervlaktewater&byear=2002&bmonth=00&bday=00&eyear=2010&emonth=00&eday=00&output=Tekst&whichform=2';\r\n\r\n          $.ajax({\r\n            // url: 'http://opendap.deltares.nl/thredds/dodsC/opendap/rijkswaterstaat/waterbase/03_Chlorofyl-a_in_ug_l_in_oppervlaktewater/nc/id282-' + locId + '.nc.ascii?time,concentration_of_chlorophyll_in_water',\r\n            url: 'https://crossorigin.me/' + url,\r\n            succes: function (result) {\r\n              console.log(result)\r\n            }\r\n          })\r\n        }\r\n        popup.remove()\r\n        popup.setLngLat(e.lngLat)\r\n          .addTo(this.map)\r\n          .setDOMContent(div)\r\n        if (this.selectPeriod === 'yearly') {\r\n          var filename = 'CHL_1km_' + this.year.toString()\r\n        } else if (this.selectPeriod === 'six_yearly') {\r\n          filename = 'CHL_1km_' + parseInt(this.year).toString() + '_' + (parseInt(this.year) + 5).toString()\r\n        }\r\n        this.makeBoxPlot(filename, e.lngLat.lat, e.lngLat.lng)\r\n      })\r\n    })\r\n  },\r\n  methods: {\r\n    deferredMountedTo (map) {\r\n      this.map = map\r\n    },\r\n\r\n    generateLayers () {\r\n      bus.$emit('remove-all-layers')\r\n\r\n      _.each(_.range(ranges[0], ranges[1]), (year) => {\r\n        this.addMapLayers(year)\r\n      })\r\n    },\r\n\r\n    addMapLayers (year) {\r\n      if (this.selectPeriod === 'yearly') {\r\n        var filename = 'CHL_1km_' + parseInt(year).toString()\r\n        var id = parseInt(year).toString()\r\n      } else if (this.selectPeriod === 'six_yearly') {\r\n        filename = 'CHL_1km_' + parseInt(year).toString() + '_' + (parseInt(year) + 5).toString()\r\n        id = parseInt(year).toString() + '_' + (year + 5)\r\n      }\r\n      if (this.parameter === 'Classified mean' | this.parameter === 'Classified P90') {\r\n        var text = 'custom'\r\n        _.each(this.colorSlider.get(), (val, i) => {\r\n          text += '-' + parseInt(val)\r\n        })\r\n        var stylestring = '&STYLES=boxfill/' + text + '&NUMCOLORBANDS=16&'\r\n      } else {\r\n        stylestring = '&STYLES=boxfill/msfd&'\r\n      }\r\n\r\n      var tiles = this.getMapString(filename, stylestring)\r\n      var layer = {\r\n        id: id,\r\n        type: 'raster',\r\n        source: {\r\n          type: 'raster',\r\n          tiles: [tiles],\r\n          'tileSize': 256\r\n        },\r\n        paint: {\r\n          'raster-opacity': 0\r\n        }\r\n      }\r\n      this.map.addLayer(layer, mapLayers[0].id)\r\n      bus.$emit('add-layer', layer)\r\n    },\r\n\r\n    getMapString (filename, stylestring) {\r\n      var string = SERVER_URL + this.selectPeriod + '/' + filename + '.nc?' +\r\n        'SERVICE=WMS&' +\r\n        'REQUEST=GetMap&' +\r\n        'VERSION=1.3.0&' +\r\n        'LAYERS=' + substances[this.parameter] + '&' +\r\n        'CRS=EPSG:3857&' +\r\n        'BBOX={bbox-epsg-3857}&' +\r\n        'WIDTH=256&' +\r\n        'HEIGHT=256&' +\r\n        'FORMAT=image/png&' +\r\n        'COLORSCALERANGE=0,80&' +\r\n        stylestring +\r\n        'TRANSPARENT=TRUE&'\r\n      return string\r\n    },\r\n\r\n    makeBoxPlot (filename, lat, lon) {\r\n      $.ajax({url: 'https://tl-ng038.xtr.deltares.nl/thredds/ncss/grid/Thredds/' + this.selectPeriod + '/' + filename + '.nc?var=P10_chlorophyll&var=P25_chlorophyll&var=P50_chlorophyll&var=P75_chlorophyll&var=P90_chlorophyll&latitude=' + lat + '&longitude=' + lon + '&accept=csv',\r\n        async: false,\r\n        success: function (result) {\r\n          var string = result.split('\\n')\r\n          var boxplot = [string[1].split(',').slice(2).map(Number)]\r\n          Highcharts.chart('popup', {\r\n            chart: {\r\n              type: 'boxplot'\r\n            },\r\n            title: {\r\n              text: 'Chlorophyll'\r\n            },\r\n            legend: {\r\n              enabled: false\r\n            },\r\n            xAxis: {\r\n              categories: ['1'],\r\n              title: {\r\n                text: filename.split('.')[0]\r\n              }\r\n            },\r\n\r\n            yAxis: {\r\n              title: {\r\n                text: 'Chlorophyll [mg/m^3]'\r\n              }\r\n            },\r\n\r\n            series: [{\r\n              name: filename,\r\n              data: boxplot,\r\n              tooltip: {\r\n                headerFormat: '<em>lat: ' + lat + ' lon: ' + lon + '</em><br/>'\r\n              }\r\n            }]\r\n\r\n          })\r\n        }\r\n      })\r\n    },\r\n\r\n    addShapeLayers () {\r\n      _.each(mapLayers, (layer) => {\r\n        this.map.addLayer(layer)\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/v-map-layers.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"maplayers\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43be53ee\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/VMapLayers.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43be53ee\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VMapLayers.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./v-map-layers.js\"\nimport __vue_script__ from \"!!babel-loader!./v-map-layers.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43be53ee\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VMapLayers.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VMapLayers.vue\n// module id = null\n// module chunks = ","import {\r\n  bus\r\n} from '@/event-bus.js'\r\nimport SelectionPanel from './components/VSelectionPanel'\r\nimport InfoPanel from './components/VInfoPanel'\r\nimport Acknowledgements from './components/VAcknowledgements'\r\nimport MapLayers from './components/VMapLayers'\r\n\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n  name: 'app',\r\n  data: function () {\r\n    return {\r\n      map: null,\r\n      drawer: null,\r\n      layers: [],\r\n      analytics: false\r\n    }\r\n  },\r\n    mounted () {\r\n    this.map = this.$refs.map.map\r\n\r\n    bus.$on('add-layer', (layer) => {\r\n      this.layers.push(layer)\r\n    })\r\n\r\n    bus.$on('remove-all-layers', () => {\r\n      _.each(this.layers, (layer) => {\r\n        this.map.removeLayer(layer.id)\r\n        this.map.removeSource(layer.id)\r\n      })\r\n      this.layers = []\r\n    })\r\n\r\n    this.map.on('load', (event) => {\r\n      bus.$emit('map-loaded', this.map)\r\n    })\r\n    this.map.on('error', (event) => {\r\n      console.log(event)\r\n    })\r\n  },\r\n  methods: {},\r\n  components: {\r\n    'v-selection-panel': SelectionPanel,\r\n    'v-map-layers': MapLayers,\r\n    'v-info-panel': InfoPanel,\r\n    'v-acknowledgements': Acknowledgements\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-navigation-drawer',{attrs:{\"width\":\"400\",\"id\":\"navdrawer\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-selection-panel',{attrs:{\"layers\":_vm.layers,\"map\":_vm.map}}),_vm._v(\" \"),_c('v-info-panel',{attrs:{\"layers\":_vm.layers,\"map\":_vm.map}}),_vm._v(\" \"),_c('v-acknowledgements',{attrs:{\"layers\":_vm.layers,\"map\":_vm.map}})],1),_vm._v(\" \"),_c('v-toolbar',{attrs:{\"xs6\":\"\",\"color\":\"grey lighten-4\",\"fixed\":\"\",\"app\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_vm._v(\" \"),_c('v-toolbar-title',[_vm._v(\"MSFD-eutro - Interactive web-mapping of chlorophyll indicator maps\")]),_vm._v(\" \"),_c('v-spacer')],1),_vm._v(\" \"),_c('v-content',[_c('div',{attrs:{\"id\":\"map\"}},[_c('v-mapbox',{ref:\"map\",attrs:{\"access-token\":\"pk.eyJ1Ijoic2lnZ3lmIiwiYSI6Il8xOGdYdlEifQ.3-JZpqwUa3hydjAJFXIlMA\",\"map-style\":\"mapbox://styles/mapbox/light-v9\",\"center\":[5.673272, 52.079502],\"zoom\":7.88,\"pitch\":0,\"bearing\":0,\"min-zoom\":5,\"id\":\"map\"}},[_c('v-map-layers',{attrs:{\"layers\":_vm.layers,\"map\":_vm.map}}),_vm._v(\" \"),_c('v-mapbox-navigation-control')],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a09a19f2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a09a19f2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./app.js\"\nimport __vue_script__ from \"!!babel-loader!./app.js\"/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a09a19f2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","/* eslint-disable */\r\nimport 'babel-polyfill'\r\nimport promise from 'es6-promise'\r\nimport 'isomorphic-fetch'\r\n\r\nimport Vue from 'vue';\r\nimport Vuetify from 'vuetify';\r\nimport App from './App.vue';\r\nimport Vue2MapboxGL from 'vue2mapbox-gl';\r\n\r\nVue.use(Vue2MapboxGL);\r\nVue.use(Vuetify);\r\n\r\nimport 'vuetify/dist/vuetify.min.css';\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  el: '#app',\r\n  template: '<App/>',\r\n  components: {\r\n    App\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}